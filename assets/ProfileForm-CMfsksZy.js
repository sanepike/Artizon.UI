import{d as D,A as y,B as v,k as g,_ as N,b as l,o,e as r,D as d,f,E as u,n as p,t as m,C as k}from"./index-CjOS9C8z.js";const q=D({name:"ProfileForm",props:{user:{type:Object,required:!0}},emits:["submit","cancel"],setup(e,{emit:a}){const b=y(!1),s=v({first_name:"",last_name:"",email:""}),n=v({first_name:"",last_name:"",email:""}),_=()=>{let i=!0;return n.first_name="",n.last_name="",n.email="",s.first_name.trim()||(n.first_name="First name is required",i=!1),s.last_name.trim()||(n.last_name="Last name is required",i=!1),s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(n.email="Please enter a valid email",i=!1):(n.email="Email is required",i=!1),i},t=()=>{if(!_())return;const i=new FormData;i.append("first_name",s.first_name),i.append("last_name",s.last_name),i.append("email",s.email),a("submit",i)};return g(()=>{e.user&&(s.first_name=e.user.first_name,s.last_name=e.user.last_name,s.email=e.user.email)}),{formData:s,errors:n,loading:b,handleSubmit:t}}}),C={class:"form-group"},S={key:0,class:"error-text"},$={class:"form-group"},F={key:0,class:"error-text"},V={class:"form-group"},B={key:0,class:"error-text"},E={class:"form-actions"},w=["disabled"];function M(e,a,b,s,n,_){return o(),l("form",{class:"profile-form",onSubmit:a[4]||(a[4]=k((...t)=>e.handleSubmit&&e.handleSubmit(...t),["prevent"]))},[r("div",C,[a[5]||(a[5]=r("label",{for:"firstName"},"First Name",-1)),d(r("input",{id:"firstName","onUpdate:modelValue":a[0]||(a[0]=t=>e.formData.first_name=t),class:p({error:e.errors.first_name}),required:"",type:"text"},null,2),[[u,e.formData.first_name]]),e.errors.first_name?(o(),l("span",S,m(e.errors.first_name),1)):f("",!0)]),r("div",$,[a[6]||(a[6]=r("label",{for:"lastName"},"Last Name",-1)),d(r("input",{id:"lastName","onUpdate:modelValue":a[1]||(a[1]=t=>e.formData.last_name=t),class:p({error:e.errors.last_name}),required:"",type:"text"},null,2),[[u,e.formData.last_name]]),e.errors.last_name?(o(),l("span",F,m(e.errors.last_name),1)):f("",!0)]),r("div",V,[a[7]||(a[7]=r("label",{for:"email"},"Email",-1)),d(r("input",{id:"email","onUpdate:modelValue":a[2]||(a[2]=t=>e.formData.email=t),class:p({error:e.errors.email}),required:"",type:"email"},null,2),[[u,e.formData.email]]),e.errors.email?(o(),l("span",B,m(e.errors.email),1)):f("",!0)]),r("div",E,[r("button",{class:"cancel-btn",type:"button",onClick:a[3]||(a[3]=t=>e.$emit("cancel"))}," Cancel "),r("button",{class:"submit-btn",disabled:e.loading,type:"submit"},m(e.loading?"Saving...":"Save Changes"),9,w)])],32)}const U=N(q,[["render",M],["__scopeId","data-v-9d245f03"]]);export{U as default};
