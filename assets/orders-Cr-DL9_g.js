import{I as f,A as o}from"./index-CjOS9C8z.js";import{ordersApi as v}from"./api-dTaot8wZ.js";const E=f("orders",()=>{const s=o([]),u=o(null),a=o(!1),e=o(null),c=o(1),d=o(1),n=o(0);return{orders:s,currentOrder:u,loading:a,error:e,page:c,totalPages:d,total:n,fetchOrders:async(t=1,r=10)=>{a.value=!0,e.value=null;try{const l=await v.getMyOrders(t,r);s.value=l.orders,c.value=l.page,d.value=l.total_pages,n.value=l.total}catch(l){e.value=l.response?.data?.error||"Failed to fetch orders",console.error("Error fetching orders:",l)}finally{a.value=!1}},fetchOrderById:async t=>{a.value=!0,e.value=null;try{u.value=await v.getOrder(t)}catch(r){e.value=r.response?.data?.error||"Failed to fetch order details",console.error("Error fetching order:",r)}finally{a.value=!1}},placeOrder:async t=>{a.value=!0,e.value=null;try{const r=await v.placeOrder(t);return s.value.unshift(r),n.value++,r}catch(r){throw e.value=r.response?.data?.error||"Failed to place order",console.error("Error placing order:",r),r}finally{a.value=!1}},clearError:()=>{e.value=null},reset:()=>{s.value=[],u.value=null,a.value=!1,e.value=null,c.value=1,d.value=1,n.value=0}}});export{E as u};
