import{d as S,a as b,c as m,k as _,_ as P,b as n,o as a,e,t as r,f as C,G as v,H as f,n as B}from"./index-CjOS9C8z.js";import{u as O}from"./orders-Cr-DL9_g.js";import"./api-dTaot8wZ.js";const D=S({name:"OrdersPage",setup(){const t=b(),s=O(),p=m(()=>s.loading),g=m(()=>s.error),l=()=>{s.fetchOrders(s.page)},c=()=>{s.clearError(),l()},o=()=>{t.push("/dashboard")},d=()=>{s.page>1&&s.fetchOrders(s.page-1)},h=()=>{s.page<s.totalPages&&s.fetchOrders(s.page+1)},k=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=u=>{const i=u.toLowerCase();return i.includes("pending")?"status-pending":i.includes("processing")?"status-processing":i.includes("shipped")?"status-shipped":i.includes("delivered")?"status-delivered":i.includes("cancelled")?"status-cancelled":"status-default"};return _(()=>{l()}),{ordersStore:s,loading:p,error:g,goBack:o,retry:c,prevPage:d,nextPage:h,formatDate:k,getStatusClass:y}}}),L={class:"orders-page"},w={class:"orders-header"},F={key:0,class:"loading-state"},N={key:1,class:"error-state"},$={class:"error-message"},A={key:2,class:"empty-state"},E={key:3,class:"orders-list"},M={class:"order-header"},T={class:"order-info"},V={class:"order-date"},Y={class:"order-status"},q={class:"order-items"},z={class:"item-details"},G={class:"item-meta"},H={class:"item-total"},I={class:"order-footer"},Q={class:"shipping-address"},R={class:"order-total"},U={class:"total-amount"},j={key:0,class:"pagination"},J=["disabled"],K=["disabled"];function W(t,s,p,g,l,c){return a(),n("div",L,[e("header",w,[s[5]||(s[5]=e("h1",null,"My Orders",-1)),e("button",{class:"back-btn",onClick:s[0]||(s[0]=(...o)=>t.goBack&&t.goBack(...o))},"â† Back to Shopping")]),t.loading&&t.ordersStore.orders.length===0?(a(),n("div",F,[...s[6]||(s[6]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading your orders...",-1)])])):t.error?(a(),n("div",N,[e("p",$,r(t.error),1),e("button",{onClick:s[1]||(s[1]=(...o)=>t.retry&&t.retry(...o))},"Try Again")])):t.ordersStore.orders.length===0?(a(),n("div",A,[s[7]||(s[7]=e("div",{class:"empty-icon"},"ðŸ“¦",-1)),s[8]||(s[8]=e("h2",null,"No Orders Yet",-1)),s[9]||(s[9]=e("p",null,"You haven't placed any orders yet.",-1)),e("button",{class:"shop-now-btn",onClick:s[2]||(s[2]=(...o)=>t.goBack&&t.goBack(...o))},"Start Shopping")])):(a(),n("div",E,[(a(!0),n(v,null,f(t.ordersStore.orders,o=>(a(),n("div",{key:o.id,class:"order-card"},[e("div",M,[e("div",T,[e("h3",null,"Order #"+r(o.id),1),e("p",V,r(t.formatDate(o.created_at_utc)),1)]),e("div",Y,[e("span",{class:B(["status-badge",t.getStatusClass(o.status)])},r(o.status),3)])]),e("div",q,[(a(!0),n(v,null,f(o.items,d=>(a(),n("div",{key:d.id,class:"order-item"},[e("div",z,[e("h4",null,r(d.product_name),1),e("p",G," Quantity: "+r(d.quantity)+" Ã— â‚¹"+r(d.product_price.toFixed(2)),1)]),e("div",H,"â‚¹"+r(d.total_price.toFixed(2)),1)]))),128))]),e("div",I,[e("div",Q,[s[10]||(s[10]=e("strong",null,"Shipping Address:",-1)),e("p",null,r(o.shipping_address),1)]),e("div",R,[s[11]||(s[11]=e("strong",null,"Total Amount:",-1)),e("span",U,"â‚¹"+r(o.total_amount.toFixed(2)),1)])])]))),128)),t.ordersStore.totalPages>1?(a(),n("div",j,[e("button",{disabled:t.ordersStore.page===1,onClick:s[3]||(s[3]=(...o)=>t.prevPage&&t.prevPage(...o))}," Previous ",8,J),e("span",null,"Page "+r(t.ordersStore.page)+" of "+r(t.ordersStore.totalPages),1),e("button",{disabled:t.ordersStore.page===t.ordersStore.totalPages,onClick:s[4]||(s[4]=(...o)=>t.nextPage&&t.nextPage(...o))}," Next ",8,K)])):C("",!0)]))])}const ss=P(D,[["render",W],["__scopeId","data-v-ab7298e9"]]);export{ss as default};
